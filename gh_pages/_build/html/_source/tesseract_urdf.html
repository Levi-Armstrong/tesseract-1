

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Tesseract Geometry Package &mdash; Industrial Training  documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/override.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

  
  <script src="../_static/clipboard.min.js"></script>

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> Industrial Training
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="tesseract_scene_graph_doc.html">tesseract_scene_graph</a></li>
<li class="toctree-l1"><a class="reference internal" href="tesseract_collision_doc.html">tesseract_collision</a></li>
<li class="toctree-l1"><a class="reference internal" href="tesseract_geometry_doc.html">tesseract_geometry</a></li>
<li class="toctree-l1"><a class="reference internal" href="tesseract_ros_doc.html">tesseract_ros</a></li>
<li class="toctree-l1"><a class="reference internal" href="tesseract_msgs_doc.html">tesseract_msgs</a></li>
<li class="toctree-l1"><a class="reference internal" href="tesseract_rviz_doc.html">tesseract_rviz</a></li>
<li class="toctree-l1"><a class="reference internal" href="tesseract_monitoring_doc.html">tesseract_monitoring</a></li>
<li class="toctree-l1"><a class="reference internal" href="tesseract_planning_doc.html">tesseract_planning</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="FAQ.html">Questions?</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Industrial Training</a>
        
      </nav>


      <div class="wy-nav-content">
      
  <div class="header-override">
    <a href="http://rosindustrial.org">
      <img src="../_static/logo.jpg"/>
    </a>
    <p>
      <a href="http://rosindustrial.org">ROS-Industrial Website</a>|<a href="http://rosindustrial.org/news">Blog</a>
    </p>
  </div>

        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>Tesseract Geometry Package</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/ros-industrial-consortium/tesseract/blob/gh_pages/_source/tesseract_urdf.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="tesseract-geometry-package">
<h1>Tesseract Geometry Package<a class="headerlink" href="#tesseract-geometry-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="background">
<h2>Background<a class="headerlink" href="#background" title="Permalink to this headline">¶</a></h2>
<p>This package contains urdf parser used by Tesseract. It supports additional shape and features not supported by urdfdom. This wiki only contains additional items and for more information please refer to <a class="reference external" href="http://wiki.ros.org/urdf/XML">http://wiki.ros.org/urdf/XML</a>.</p>
</div>
<div class="section" id="features">
<h2>Features<a class="headerlink" href="#features" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple">
<li>New Shapes<ul>
<li>Capsule</li>
<li>Mesh</li>
<li>Convex Mesh</li>
<li>SDF Mesh</li>
<li>Octomap</li>
</ul>
</li>
<li>Origin<ul>
<li>Quaternion</li>
</ul>
</li>
</ol>
</div>
<div class="section" id="defining-new-shapes">
<h2>Defining New Shapes<a class="headerlink" href="#defining-new-shapes" title="Permalink to this headline">¶</a></h2>
<div class="section" id="create-capsule">
<h3>Create Capsule<a class="headerlink" href="#create-capsule" title="Permalink to this headline">¶</a></h3>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;capsule</span> <span class="na">radius=</span><span class="s">&quot;1&quot;</span> <span class="na">length=</span><span class="s">&quot;2&quot;</span><span class="nt">/&gt;</span>
</pre></div>
</div>
<p>The total height is the <strong>length + 2 * radius</strong>, so the length is just the height between the center of each sphere of the capsule caps.</p>
</div>
<div class="section" id="create-convex-mesh">
<h3>Create Convex Mesh<a class="headerlink" href="#create-convex-mesh" title="Permalink to this headline">¶</a></h3>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;convex_mesh</span> <span class="na">filename=</span><span class="s">&quot;package://tesseract_support/meshes/box_2m.ply&quot;</span> <span class="na">scale=</span><span class="s">&quot;1 2 1&quot;</span> <span class="na">convert=</span><span class="s">&quot;false&quot;</span><span class="nt">/&gt;</span>
</pre></div>
</div>
<p>This will create a convex hull shape type. This shape is more efficient than a regular mesh for collision checking. Also it provides an accurate penetration distance where in the case of mesh type you only get the penetration of one triangle into another.</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="25%" />
<col width="25%" />
<col width="50%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter</th>
<th class="head">Required/Optional</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>filename</td>
<td>Required</td>
<td>If convert is false (default) the mesh must be a convex hull represented by a polygon mesh. If it is triangulated such that multiple triangles represent the same surface you will get undefined behavior from collision checking.</td>
</tr>
<tr class="row-odd"><td>scale</td>
<td>Optional</td>
<td>Scales the mesh axis aligned bounding box. Default scale = [1, 1, 1].</td>
</tr>
<tr class="row-even"><td>convert</td>
<td>Optional</td>
<td>If true the mesh is converted to a convex hull. Default convert = false.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="create-sdf-mesh">
<h3>Create SDF Mesh<a class="headerlink" href="#create-sdf-mesh" title="Permalink to this headline">¶</a></h3>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;sdf_mesh</span> <span class="na">filename=</span><span class="s">&quot;package://tesseract_support/meshes/box_2m.ply&quot;</span> <span class="na">scale=</span><span class="s">&quot;1 2 1&quot;</span> <span class="nt">/&gt;</span>
</pre></div>
</div>
<p>This will create a signed distance field shape type, which only affects collision shapes. This shape is more efficient than a regular mesh for collision checking, but not as efficient as convex hull.</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="25%" />
<col width="25%" />
<col width="50%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter</th>
<th class="head">Required/Optional</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>filename</td>
<td>Required</td>
<td>A path to a convex or non-convex mesh.</td>
</tr>
<tr class="row-odd"><td>scale</td>
<td>Optional</td>
<td>Scales the mesh axis aligned bounding box. Default scale = [1, 1, 1].</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="create-octree-octomap">
<h3>Create Octree/Octomap<a class="headerlink" href="#create-octree-octomap" title="Permalink to this headline">¶</a></h3>
<p>There are two methods for creating an octomap collision object. The first is to provide and octree file (.bt | .ot) and the second option is to provide a point cloud file (.pcd) with a resolution.</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;octomap</span> <span class="na">shape_type=</span><span class="s">&quot;box&quot;</span> <span class="na">prune=</span><span class="s">&quot;false&quot;</span> <span class="nt">&gt;</span>
  <span class="nt">&lt;octree</span> <span class="na">filename=</span><span class="s">&quot;package://tesseract_support/meshes/box_2m.bt&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/octomap&gt;</span>

<span class="nt">&lt;octomap</span> <span class="na">shape_type=</span><span class="s">&quot;box&quot;</span> <span class="na">prune=</span><span class="s">&quot;false&quot;</span> <span class="nt">&gt;</span>
  <span class="nt">&lt;point_cloud</span> <span class="na">filename=</span><span class="s">&quot;package://tesseract_support/meshes/box_2m.pcd&quot;</span> <span class="na">resolution=</span><span class="s">&quot;0.1&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/octomap&gt;</span>
</pre></div>
</div>
<p>This will create an octomap shape type. Each occupied cell is represented by either a box, shere outside, or sphere inside shape.</p>
<table border="1" class="colwidths-given docutils" id="id1">
<caption><span class="caption-text">Octomap Element</span><a class="headerlink" href="#id1" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="25%" />
<col width="25%" />
<col width="50%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter</th>
<th class="head">Required/Optional</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>shape_type</td>
<td>Required</td>
<td>Currently three shape types (box, sphere_inside, sphere_outside).</td>
</tr>
<tr class="row-odd"><td>prune</td>
<td>Optional</td>
<td>This executes the octree toMaxLikelihood() the prune() method prior to creating shape which will combine adjacent occupied cell into larget cells resulting in fewer shapes.</td>
</tr>
</tbody>
</table>
<table border="1" class="colwidths-given docutils" id="id2">
<caption><span class="caption-text">Octree Element</span><a class="headerlink" href="#id2" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="25%" />
<col width="25%" />
<col width="50%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter</th>
<th class="head">Required/Optional</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>filename</td>
<td>Required</td>
<td>A path to a binary or ascii octree file.</td>
</tr>
</tbody>
</table>
<table border="1" class="colwidths-given docutils" id="id3">
<caption><span class="caption-text">Point Cloud Element</span><a class="headerlink" href="#id3" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="25%" />
<col width="25%" />
<col width="50%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter</th>
<th class="head">Required/Optional</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>filename</td>
<td>Required</td>
<td>A path to a PCL point clound file.</td>
</tr>
<tr class="row-odd"><td>resolution</td>
<td>Required</td>
<td>The resolution of the octree populated by the provided point cloud</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="create-origin">
<h3>Create Origin<a class="headerlink" href="#create-origin" title="Permalink to this headline">¶</a></h3>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;origin</span> <span class="na">xyz=</span><span class="s">&quot;0 0 0&quot;</span> <span class="na">rpy=</span><span class="s">&quot;0 0 0&quot;</span> <span class="na">q=</span><span class="s">&quot;1 0 0 0&quot;</span><span class="nt">/&gt;</span>;
</pre></div>
</div>
<p>This allows the ability to use a quaternion instead of roll, pitch and yaw values. It is acceptable to have both to allow backwards compatability with other parsers, but the quaternion will take preference over rpy.</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="25%" />
<col width="25%" />
<col width="50%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter</th>
<th class="head">Required/Optional</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>q</td>
<td>Optional</td>
<td>A Quaternion = [w, x, y, z]. It will be normalized on creation.</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div class="footer-override">
    <a href="http://rosindustrial.org/ric">
      <img src="../_static/footer.jpg"/>
    </a>
  </div>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, ROS-Industrial

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    

  

  <script type="text/javascript" src="../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(false);
      });
  </script>
  <script>
  var pre = document.getElementsByTagName('pre');
  for (var i = 0; i < pre.length; i++) {
    var button = document.createElement('button');
    button.className = 'btn-copyboard fa fa-copy btn';
    pre[i].before(button);
  }
  var clipboard = new Clipboard('.btn-copyboard', {
    target: function(trigger) {return trigger.nextElementSibling;}
  });
  function showSuccess(elem){elem.setAttribute('class','btn-copyboard fa fa-check btn');}
  function sleep (time) {
    return new Promise((resolve) => setTimeout(resolve, time));
  }
  clipboard.on('success',function(e){
    showSuccess(e.trigger);
    sleep(350).then(() => {e.clearSelection();
      e.trigger.setAttribute('class','btn-copyboard fa fa-copy btn');})
  });
  </script>


</body>
</html>